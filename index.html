<!DOCTYPE html>
<html lang="en-us">
	<head>
		<title>PileOn - Prototype</title>
		<meta charset="utf-8">
		<meta name="author" content="Tim Leisio">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="A civic app that enables crowdsourcing of free piles of materials.">
		
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,800' rel='stylesheet' type='text/css'>
		<link href="css/reset.css" rel="stylesheet" type="text/css">
		<link href="css/index.css" rel="stylesheet" type="text/css">
		<link href="fontawesome/css/font-awesome.css" rel="stylesheet" type="text/css">
		
		<script type="text/javascript" src="js/libs/modernizr.js"></script>
		<!--<script type="text/javascript" src="js/libs/quo.js"></script>-->
		<script type="text/javascript" src="js/libs/ko.js"></script>
		<script type="text/javascript" src="js/AppViewModel.js"></script>
		<script type="text/javascript" src="js/AppViewController.js"></script>
		
		<script type="text/javascript" src="js/global.js"></script>
		
	</head>
	
	<body>
		<div id="topnav">
			<div class="search">
				<div class="icon-search icon-large"></div>
				<p>Search</p>
			</div>
			<div class="logo">
				<h1><a href="#nogo" data-bind="click: firstPage">PileOn <span style="font-size:0.5em;font-weight:400;">(prototype)</span></a></h1>
				<p>Free piles of materials near you!</p>
			</div>
			<div class="clear"></div>
		</div>
		
		<div id="pageTracker">
			<div class="activeBlock" data-bind="style: {left: (currentPage() * 25) + '%'}"></div>
			<div class="pageBlock"></div>
			<div class="pageBlock"></div>
			<div class="pageBlock"></div>
			<div class="pageBlock"></div>
			<div class="clear"></div>
		</div>
		
		<div id="pageWrap" data-bind="style: {width: viewportWidth()+'px', height: (viewportHeight()-118)+'px'}">
			<div id="pageWrapInner" data-bind="style: {width: (viewportWidth()*pageCount())+'px', left: (0 + (-currentPage() * viewportWidth()))+'px'}">
				<!-- PAGE1 -->
				<div class="page" data-bind="style: {width: (viewportWidth())+'px'}">
					<div id="categories" data-bind="foreach: categories">
						<div class="category" data-category="" data-bind="attr: {'data-category': id}, click: nextPage ">
							<img src="http://placehold.it/50x50" alt="icon placeholder" />
							<h1 data-bind="text: name"></h1>
							<!-- ko if: numPiles() > 1 -->
							<p class="numlocs"><span data-bind="text: numPiles"></span> Locations!</p>
							<!-- /ko -->
							<!-- ko if: numPiles() == 1 -->
							<p class="numlocs"><span data-bind="text: numPiles"></span> Location!</p>
							<!-- /ko -->
							<div class="icon icon-circle-arrow-right icon-2x"></div>
						</div>
					</div>
					
					<br />
					
					<div id="about">
						<h3>About</h3>
						<p>PileOn is a web app that connects people to nearby, free piles of materials.</p>
						<p>PileOn was initiated by <a href="http://www.opentwincities.org/">Open Twin Cities,</a> a <a href="http://codeforamerica.org/">Code for America</a> brigade, that focuses on improving civic technology for the Twin Cities area.</p>
						<p>If you're interested in contributing, visit the <a href="https://github.com/skitley/PileOn-Prototype">PileOn github page</a>, or visit the <a href="https://groups.google.com/forum/#!topic/twin-cities-brigade/obapXOdsuAs">google group thread</a> discussing this app.</p>
					</div>
					
					<div id="updates">
						<h3>PileOn Updates</h3>
						<div class="update">
							<p class="date">August 29th, 2013</p>
							<ul>
								<li>Cleaned up form layouts</li>
								<li>Added hooks/alerts for all remaining actions</li>
								<li>Removed coming soon section</li>
							</ul>
						</div>
						<div class="update">
							<p class="date">August 28th, 2013</p>
							<ul>
								<li>More realistic data and update pile details page</li>
								<li>Added back button, consolidated gps and location button</li>
							</ul>
						</div>
						<div class="update">
							<p class="date">August 27th, 2013</p>
							<ul>
								<li>Published prototype on github pages: <a href="http://skitley.github.io/PileOn-Prototype">http://skitley.github.io/PileOn-Prototype</a></li>
								<li>Data within the app is more realistic and believable</li>
							</ul>
						</div>
						<div class="update">
							<p class="date">August 20th, 2013</p>
							<ul>
								<li>Continue knockout integration</li>
								<li>Action bar now again working</li>
								<li>Updated layout of locations list view</li>
								<li>Moved "todo" tasks to github issues list</li>
								<li>Changed main page "todo" section into a "coming soon" section</li>
							</ul>
						</div>
						<div class="update">
							<p class="date">August 19th, 2013</p>
							<ul>
								<li>Continue knockout integration</li>
								<li>Added page identifier bar</li>
								<li>Layout and interaction details</li>
								<li>Learned a lot</li>
								<li>Pile detail page re-added</li>
							</ul>
						</div>
						<div class="update">
							<p class="date">August 18th, 2013</p>
							<ul>
								<li>Started knockout integration</li>
								<li>Converted prototype to one page in response to knockout integration</li>
							</ul>
						</div>
						<div class="update">
							<p class="date">August 17th, 2013</p>
							<ul>
								<li>Pile page created</li>
								<li>Pile update button process created on home page</li>
								<li>Pile update page created</li>
								<li>New pile page created</li>
							</ul>
						</div>
						<div class="update">
							<p class="date">August 16th, 2013</p>
							<ul>
								<li>PileOn prototype created</li>
								<li>PileOn home page created</li>
								<li>Locations page created</li>
							</ul>
						</div>
					</div>
					
				</div>
			
				<!-- PAGE2 -->
				<div class="page" data-bind="style: {width: (viewportWidth())+'px'}">
					<!-- ko foreach: categories -->
					<!-- ko if: active -->
					<h1 data-bind="text: name"></h1>
					<div id="location">
						<div class="header">
							<!--<div class="col id">ID</div>-->
							<div class="col amount">Amt</div>
							<div class="col update">Reported</div>
							<div class="col distance">Miles</div>
							<div class="col address">Addy</div>
							<div class="col"></div>
							<div class="clear"></div>
						</div>
						<!-- ko foreach: piles -->
						<div class="row" data-bind="click: nextPage, attr: {'data-pile': id}">
							<!--<div class="col id" data-bind="text: id"></div>-->
							<!-- ko if: amount() == 1 -->
							<div class="col amount">Little</div>
							<!-- /ko -->
							<!-- ko if: amount() == 2 -->
							<div class="col amount">Some</div>
							<!-- /ko -->
							<!-- ko if: amount() == 3 -->
							<div class="col amount">Enough</div>
							<!-- /ko -->
							<!-- ko if: amount() == 4 -->
							<div class="col amount">Plenty</div>
							<!-- /ko -->
							<!-- ko if: amount() == 5 -->
							<div class="col amount">Lots</div>
							<!-- /ko -->
							<!-- ko if: amount() == 6 -->
							<div class="col amount">Tons</div>
							<!-- /ko -->
							<div class="col update"><span data-bind="text: firstTimeStamp"></span>h</div>
							<div class="col distance"><span data-bind="text: distance"></span>.0</div>
							<div class="col address">An address <span data-bind="text: distance"></span> miles away</div>
							<div class="col arrow"><div class="icon-circle-arrow-right"></div></div>
							<div class="clear"></div>
						</div>
						<!-- /ko -->
					</div>
					<!-- /ko -->
					<!-- /ko -->
				</div>
				
				<!-- PAGE3 -->
				<div class="page" data-bind="style: {width: (viewportWidth())+'px'}">
					<div id="pile">
						<!-- ko foreach: categories -->
						<!-- ko if: active -->
						<!-- ko foreach: piles -->
						<!-- ko if: active -->
						<h1><span data-bind="text: category"></span> Pile #<span data-bind="text: id"></span></h1>
						<div class="info">
							<div class="profile">
								<div class="id">ID #<span data-bind="text: id"></span></div>
								<hr />
								<img src="http://placehold.it/256x256" alt="map image" />
							</div>
							<div class="details">
								<div class="spacer"></div>
								<div class="value"><span data-bind="text: distance"></span>.0</div>
								<div class="units">miles away</div>
								<hr />
								<div class="status">
									<!-- ko if: amount() == 1 -->
									<div><strong>Little</strong> material is left as of <strong><span data-bind="text: firstTimeStamp"></span> hours</strong> ago.</div>
									<!-- /ko -->
									<!-- ko if: amount() == 2 -->
									<div><strong>Some</strong> material is left as of <strong><span data-bind="text: firstTimeStamp"></span> hours</strong> ago.</div>
									<!-- /ko -->
									<!-- ko if: amount() == 3 -->
									<div><strong>Enough</strong> material is left as of <strong><span data-bind="text: firstTimeStamp"></span> hours</strong> ago.</div>
									<!-- /ko -->
									<!-- ko if: amount() == 4 -->
									<div><strong>Plenty</strong> of material is left as of <strong><span data-bind="text: firstTimeStamp"></span> hours</strong> ago.</div>
									<!-- /ko -->
									<!-- ko if: amount() == 5 -->
									<div><strong>Lots</strong> of material is left as of <strong><span data-bind="text: firstTimeStamp"></span> hours</strong> ago.</div>
									<!-- /ko -->
									<!-- ko if: amount() == 6 -->
									<div><strong>Tons</strong> of material is left as of <strong><span data-bind="text: firstTimeStamp"></span> hours</strong> ago.</div>
									<!-- /ko -->
								</div>
								<hr />
								<address>An address that is <span data-bind="text: distance"></span>.0 miles away.</address>
								<hr />
								<div class="actions">
									
								</div>
							</div>
							<div class="clear"></div>
						</div>
						<div class="description">
							<h3>Notes</h3>
							<p>Go in the park towards the right most trail and walk until you see the sign. Bring your own shovel!</p>
						</div>
						<div id="history">
							<div class="entry">
								<h1><span data-bind="text: firstTimeStamp"></span>.0 Hours Ago</h1>
								<!-- ko if: amount() == 0 -->
								<div class="amount">None</div>
								<!-- /ko -->
								<!-- ko if: amount() == 1 -->
								<div class="amount">Little</div>
								<!-- /ko -->
								<!-- ko if: amount() == 2 -->
								<div class="amount">Some</div>
								<!-- /ko -->
								<!-- ko if: amount() == 3 -->
								<div class="amount">Enough</div>
								<!-- /ko -->
								<!-- ko if: amount() == 4 -->
								<div class="amount">Plenty</div>
								<!-- /ko -->
								<!-- ko if: amount() == 5 -->
								<div class="amount">Lots</div>
								<!-- /ko -->
								<!-- ko if: amount() == 6 -->
								<div class="amount">Tons</div>
								<!-- /ko -->
							</div>
							<div class="entry">
								<h1>XY Hours Ago</h1>
								<div class="amount">Tons</div>
							</div>
							<div class="entry">
								<h1>Z Day(s) Ago</h1>
								<div class="amount">Tons</div>
							</div>
						</div>
						<!-- /ko -->
						<!-- /ko -->
						<!-- /ko -->
						<!-- /ko -->
					</div>
				</div>
				
				<!-- PAGE4 -->
				<div class="page" data-bind="style: {width: (viewportWidth())+'px'}">
					<h1>Page 4</h1>
				</div>
				
				<div class="clear"></div>
				
			</div>
		</div>
		
		<div id="newPileForm" data-bind="style: {width: (viewportWidth())+'px', height: (viewportHeight()-62)+'px', left: createPileProcessActive() == true ? '0px' : -(viewportWidth())+'px'}">
			<div class="inner">
				<div class="header">
					<h1>New Pile</h1>
				</div>
				
				<div class="address">
					<h1>What is the location of the pile?</h1>
					<div>
						<div class="manual">
							<input type="text" value="address 1">
							<input type="text" value="address 2">
							<input type="text" value="city">
							<input type="text" value="state">
							<input type="text" value="zip">
						</div>
						<div class="auto">
							<div class="action" data-bind="click: getLocationFromGPS">From GPS</div>
						</div>
						<div class="clear"></div>
					</div>
				</div>
				
				<div class="types">
					<h1>What type of material do you have?</h1>
					<div class="type" data-type="dirt" data-bind="click: newPileMaterialSelect">Dirt</div>
					<div class="type" data-type="woodchips" data-bind="click: newPileMaterialSelect">Woodchips</div>
					<div class="type" data-type="sticks" data-bind="click: newPileMaterialSelect">Sticks</div>
					<div class="type" data-type="leaves" data-bind="click: newPileMaterialSelect">Leaves</div>
					<div class="type" data-type="pineneedles" data-bind="click: newPileMaterialSelect">Pine Needles</div>
					<div class="type" data-type="hay" data-bind="click: newPileMaterialSelect">Hay</div>
					<div class="type" data-type="rocks" data-bind="click: newPileMaterialSelect">Rocks</div>
					<div class="type" data-type="pebbles" data-bind="click: newPileMaterialSelect">Pebbles</div>
					<div class="clear"></div>
				</div>
				
				<div class="amount">
					<h1>How much material do you have?</h1>
					<div class="option" data-option="tons" data-bind="click: newPileMaterialAmountSelect">
						<p>Tons</p>
					</div>
					<div class="option" data-option="lots" data-bind="click: newPileMaterialAmountSelect">
						<p>Lots</p>
					</div>
					<div class="option" data-option="good" data-bind="click: newPileMaterialAmountSelect">
						<p>Plenty</p>
					</div>
					<div class="option" data-option="enough" data-bind="click: newPileMaterialAmountSelect">
						<p>Enough</p>
					</div>
					<div class="option" data-option="some" data-bind="click: newPileMaterialAmountSelect">
						<p>Some</p>
					</div>
					<div class="option" data-option="little" data-bind="click: newPileMaterialAmountSelect">
						<p>Little</p>
					</div>
					<div class="clear"></div>
				</div>
			
				<div class="description">
					<h1>Notes (optional)</h1>
					<textarea></textarea>
					<p style="font-size:0.8em;">(250 max character)</p>
				</div>
			</div>
		</div>
		
		<div id="updatePileForm" data-bind="style: {width: (viewportWidth())+'px', height: (viewportHeight()-62)+'px', left: updatePileProcessActive() == true ? '0px' : -(viewportWidth())+'px'}">
			<div class="inner">
				<div class="header">
					<h1>Update Pile</h1>
				</div>
				<div class="id">
					<h1>Pile ID#</h1>
					<div><input type="text" /></div>
				</div>
				<div class="amount">
					<h1>How many woodchips are left?</h1>
					<div class="option" data-option="tons" data-bind="click: updatePileMaterialAmountSelect">
						<p>Tons</p>
					</div>
					<div class="option" data-option="lots" data-bind="click: updatePileMaterialAmountSelect">
						<p>Lots</p>
					</div>
					<div class="option" data-option="good" data-bind="click: updatePileMaterialAmountSelect">
						<p>Plenty</p>
					</div>
					<div class="option" data-option="enough" data-bind="click: updatePileMaterialAmountSelect">
						<p>Enough</p>
					</div>
					<div class="option" data-option="some" data-bind="click: updatePileMaterialAmountSelect">
						<p>Some</p>
					</div>
					<div class="option" data-option="little" data-bind="click: updatePileMaterialAmountSelect">
						<p>Little</p>
					</div>
					<div class="option" data-option="none" data-bind="click: updatePileMaterialAmountSelect">
						<p>None</p>
					</div>
					<div class="clear"></div>
				</div>
			</div>
		</div>
		
		<div id="spacer"></div>
		
		<div id="actions" data-bind="style: {width: (viewportWidth())+'px'}">
			<div class="inner">
				<div id="action-back" class="action" data-action="back" data-bind="style: {display: (currentPage() == 1 || currentPage() == 2) && createPileProcessActive() == false && updatePileProcessActive() == false ? 'block' : 'none'}, click: prevPage">
					<div class="icon-arrow-left icon-large"></div>
					<p>Back</p>
				</div>
				<div class="action" data-action="new" data-bind="style: {display: currentPage() == 0 && createPileProcessActive() == false && updatePileProcessActive() == false ? 'block' : 'none'}, click:  activateCreatePileProcess">
					<div class="icon-plus icon-large"></div>
					<p>New</p>
				</div>
				<div class="action" data-action="update" data-bind="style: {display: (currentPage() == 0 || currentPage() == 2) && createPileProcessActive() == false && updatePileProcessActive() == false ? 'block' : 'none'}, click: updatePile">
					<div class="icon-refresh icon-large"></div>
					<p>Update</p>
				</div>
				<div class="action" data-action="listview" data-bind="style: {display: currentPage() == 1 ? 'block' : 'none'}, css: {'action-disabled': listViewActive() == true }, click: changeViewMode">
					<div class="icon-reorder icon-large"></div>
					<p>List View</p>
				</div>
				<div class="action" data-action="mapview" data-bind="style: {display: currentPage() == 1 ? 'block' : 'none'}, css: {'action-disabled': mapViewActive() == true }, click: changeViewMode">
					<div class="icon-map-marker icon-large"></div>
					<p>Map View</p>
				</div>
				<div class="action" data-action="yourlocation" data-bind="style: {display: currentPage() == 1 ? 'block' : 'none'}, click: locationForm">
					<div class="icon-screenshot icon-large"></div>
					<p>Location</p>
				</div>
				<div id="action-ok" class="action" data-action="ok" data-bind="style: {display: createPileProcessActive() == true || updatePileProcessActive() == true ? 'block' : 'none'}, click: okActiveProcess">
					<div class="icon-ok icon-large"></div>
					<p>OK</p>
				</div>
				<div class="action" data-action="cancel" data-bind="style: {display: createPileProcessActive() == true || updatePileProcessActive() == true ? 'block' : 'none'}, click: cancelActiveProcess">
					<div class="icon-remove icon-large"></div>
					<p>Cancel</p>
				</div>
				
				<div class="clear"></div>
			</div>
		</div>
		
		<div id="overlays">
			<div class="overlay" data-overlay="update">
				<div class="title">
					<div class="icon icon-refresh icon-2x"></div>
					<h1>Update Pile Status</h1>
					<div class="clear"></div>
				</div>
				<hr />
				<div class="content">
					<p>Please enter the location ID number. This should be on a sign near your pile.</p>
					<br />
					<div class="input">
						<input id="locid" type="text" value="">
					</div>
				</div>
				<div class="actions">
					<div class="action action-ok" id="updateOk">OK</div>
					<div class="action action-cancel" id="updateCancel">Cancel</div>
					<div class="clear"></div>
				</div>
			</div>
		</div>
		
		<div id="debug"></div>
		
		<div id="protoinfo">
			<div class="icon-exclamation"></div>
		</div>
		
	</body>
	
</html>